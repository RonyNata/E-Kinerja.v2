<div class="wrapper">
<ekinerja-navbar></ekinerja-navbar>
<div class="content-wrapper">
    <section class="content">
        <div class="row" style="margin-top:50px">
            <div class="col-md-12">
                <div class="nav-tabs-custom">
                    <ul class="nav nav-tabs">
                        <li class="pull-left header" style="font-size: 22px"><i class="fa fa-check-square-o"></i> Pengaturan SKP Bulanan</li>
                    </ul>
                    <div class="tab-content">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="table-responsive">
                                    <table class="table table-bordered">
                                        <thead class="bg-table">
                                        <tr>
                                            <th class="text-center" style="width: 5%">No</th>
                                            <th class="text-center">Nama Pegawai</th>
                                            <th class="text-center" style="width: 20%">Jabatan</th>
                                            <th class="text-center" style="width: 10%">Status</th>
                                            <th class="text-center" style="width: 15%" colspan="2">Action</th>
                                        </tr>
                                        </thead>

                                        <tbody>
                                        <tr>
                                            <td class="text-center">1</td>
                                            <td>{{ajuankontrak.pegawai.namaPegawai}}</td>
                                            <td>{{ajuankontrak.pegawai.jabatan}}</td>
                                            <td>{{ajuankontrak.pegawai.skp.length ? 'Sudah Diatur' : 'Belum Diatur'}}</td>
                                            <td class="text-center">
                                                <button type="button" ng-click="ajuankontrak.open(ajuankontrak.pegawai, 0)" ng-disabled="!ajuankontrak.pegawai.skp.length" class="{{ajuankontrak.pegawai.skp.length ? 'btn bg-blue waves-effect' : 'btn bg-gray-active waves-effect'}}"><i class="fa fa-eye" aria-hidden="true"></i>LIHAT SKP</button>
                                            </td>
                                            <td>
                                                <button type="button" ng-click="ajuankontrak.open(ajuankontrak.pegawai, 1)" class="btn bg-green waves-effect"><i class="fa fa-eye" aria-hidden="true"></i>ATUR SKP</button>
                                            </td>
                                        </tr>   
                                        <tr ng-hide="ajuankontrak.pegawai_atasan==0">
                                            <td colspan="6" style="font-size: 16px"><strong>Pegawai Atasan</strong></td>
                                        </tr> 
                                        <tr ng-repeat="pgw in ajuankontrak.pegawai_atasan" ng-hide="ajuankontrak.pegawai_atasan==0">
                                            <td class="text-center">{{$index + 2}}</td>
                                            <td>{{pgw.namaPegawai}}</td>
                                            <td>{{pgw.jabatan}}</td>
                                            <td>{{pgw.skp.length ? 'Sudah Diatur' : 'Belum Diatur'}}</td>
                                            <td class="text-center">
                                                <button type="button" ng-click="ajuankontrak.open(pgw, 0)" ng-disabled="!pgw.skp.length" class="{{pgw.skp.length ? 'btn bg-blue waves-effect' : 'btn bg-gray-active waves-effect'}}"><i class="fa fa-eye" aria-hidden="true"></i>LIHAT SKP</button>
                                            </td>
                                            <td>
                                                <button type="button" ng-click="ajuankontrak.open(pgw, 1)" class="btn bg-green waves-effect"><i class="fa fa-eye" aria-hidden="true"></i>ATUR SKP</button>
                                            </td>
                                        </tr>
                                        <tr ng-hide="ajuankontrak.list_pegawai==0">
                                            <td colspan="6" style="font-size: 16px"><strong>Pegawai Bawahan</strong></td>
                                        </tr>
                                        <tr ng-repeat="pgw in ajuankontrak.list_pegawai" ng-hide="ajuankontrak.list_pegawai==0">
                                            <td class="text-center">{{ajuankontrak.pegawai_atasan.length + $index + 2}}</td>
                                            <td>{{pgw.namaPegawai}}</td>
                                            <td>{{pgw.jabatan}}</td>
                                            <td>{{pgw.skp.length ? 'Sudah Diatur' : 'Belum Diatur'}}</td>
                                            <td class="text-center">
                                                <button type="button" ng-click="ajuankontrak.open(pgw, 0)" ng-disabled="!pgw.skp.length" class="{{pgw.skp.length ? 'btn bg-blue waves-effect' : 'btn bg-gray-active waves-effect'}}"><i class="fa fa-eye" aria-hidden="true"></i>LIHAT SKP</button>
                                            </td>
                                            <td>
                                                <button type="button" ng-click="ajuankontrak.open(pgw, 1)" class="btn bg-green waves-effect"><i class="fa fa-eye" aria-hidden="true"></i>ATUR SKP</button>
                                            </td>
                                        </tr>
                                        <tr ng-show="ajuankontrak.list_pegawai==0 && ajuankontrak.pegawai_atasan==0">
                                            <td colspan="6" class="text-center" style="vertical-align: middle; font-size: 25px"><strong>DATA KOSONG</strong></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
<div class="control-sidebar-bg"></div>
</div>

<div class="loader loader-default is-active" data-text="Sedang Mengambil Data" ng-show="ajuankontrak.loading"></div>