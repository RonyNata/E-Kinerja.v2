<ekinerja-navbar></ekinerja-navbar>
<section style="width: 90%;padding-left: 10%;padding-top: 100px;">
    <div class="container-fluid">
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="card">
                    <div class="header">
                        <h2>Pembuatan Memorandum ({{memorandum.jenis}})</h2>
                    </div>
                    <div class="body">
                        <form ng-submit="memorandum.save()" class="form-horizontal">
                            <div class="row clearfix">
                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                    <div class="col-md-12" style="margin-bottom:10px">
                                        <div class="col-md-1"></div>
                                        <div class="col-sm-2" style="margin-top:5px">
                                            <p><b>Nomor</b></p>
                                        </div>
                                        <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                        <div class="col-md-2">
                                            <input type="text" class="form-control" ng-model="memorandum.item.nomorSurat" placeholder="Nomor Urusan" required>
                                        </div>
                                        <div class="col-md-2">
                                            <input type="text" class="form-control" ng-model="memorandum.item.nomorSurat1" placeholder="Pasangan Nomor Urut">
                                        </div>
                                        <div class="col-md-2">
                                            <input type="text" class="form-control" ng-model="memorandum.item.nomorSurat2" placeholder="Nama Unit" required>
                                        </div>
                                        <div class="col-md-2">
                                            <input type="number" class="form-control" ng-model="memorandum.item.tahun" disabled required>
                                        </div>
                                    </div>
                                    <div class="col-md-12" style="margin-bottom:5px">
                                        <div class="col-md-1"></div>
                                        <div class="col-sm-2" style="margin-top:5px">
                                            <p><b>Yth. kepada</b></p>
                                        </div>
                                        <div class="col-md-8">
                                            <button class="btn btn-primary waves-effect" ng-click="memorandum.openDari()" type="button" style="margin-left: 5px">Pilih Pegawai</button>
                                            <div ng-show="memorandum.item.pegawaiPenerima" class="col-md-12" style="margin-top:5px">
                                                <table>
                                                    <tr>
                                                        <td>Nama</td>
                                                        <td style="padding: 3px">:</td>
                                                        <td>{{memorandum.item.pegawaiPenerima.nama}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Jabatan</td>
                                                        <td style="padding: 3px">:</td>
                                                        <td>{{memorandum.item.pegawaiPenerima.jabatan}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12" style="margin-bottom:5px">
                                        <div class="col-md-1"></div>
                                        <div class="col-sm-2" style="margin-top:5px">
                                            <p><b>Dari</b></p>
                                        </div>
                                        <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                        <div class="col-md-8">
                                            <button class="btn btn-primary waves-effect" ng-click="memorandum.openPegawaiDari()" type="button" style="margin-left: 5px">Pilih Pegawai</button>
                                            <div ng-show="memorandum.item.pegawaiDari" class="col-md-12" style="margin-top:5px">
                                                <table>
                                                    <tr>
                                                        <td>Nama</td>
                                                        <td style="padding: 3px">:</td>
                                                        <td>{{memorandum.item.pegawaiDari.nama}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Jabatan</td>
                                                        <td style="padding: 3px">:</td>
                                                        <td>{{memorandum.item.pegawaiDari.jabatan}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12" style="margin-bottom:10px">
                                        <div class="col-md-1"></div>
                                        <div class="col-sm-2" style="margin-top:5px">
                                            <p><b>Hal</b></p>
                                        </div>
                                        <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                        <div class="col-md-8">
                                            <input class="form-control" ng-model="memorandum.item.hal" required></input>
                                        </div>
                                    </div>

                                    <div class="col-md-12" style="margin-bottom:10px">
                                        <div class="col-md-1"></div>
                                        <div class="col-sm-2" style="margin-top:5px">
                                            <p><b>Isi Memoramdum</b></p>
                                        </div>
                                        <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                        <div class="col-md-8">
                                            <textarea class="form-control" ng-model="memorandum.item.isimemorandum" required style="height: 100px"></textarea>
                                        </div>
                                    </div>

                                    <div class="col-md-12" style="margin-bottom:10px">
                                        <div class="col-md-1"></div>
                                        <div class="col-sm-2" style="margin-top:5px">
                                            <p><b>Tembusan</b></p>
                                        </div>
                                        <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                        <div class="col-md-6">
                                            <!-- <div ng-repeat="tembusan in memorandum.tembusanSurat" style="margin-bottom: 10px">
                                                <input class="form-control" ng-model="tembusan.deskripsi" required>
                                            </div> -->
                                            <div ng-repeat="tembusan in memorandum.tembusanSurat">
                                                <form method="get">
                                                    <input class="form-control" list="jabatan" name="jabatan" ng-model="tembusan.jabat" placeholder="Pilih Jabatan" ng-change="memorandum.findJabatan($index)">
                                                    <datalist id="jabatan">
                                                            <option ng-repeat="jbtn in memorandum.list_jabatan"
                                                     value="{{jbtn.kdJabatan}}" ng-selected="selected" >{{jbtn.jabatan}}</option>
                                                    </datalist>
                                                </form>
                                                <div ng-show="tembusan.jabatan">Jabatan: {{tembusan.jabatan.jabatan}}</div>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary waves-effect" type="button" ng-click="memorandum.addTembusan()" style="margin-left: 15px">+ Tambah Tembusan</button>
                                    </div>
                                    <div class="col-md-12" style="margin-bottom:10px"> 
                                        <div class="col-md-1"></div> 
                                        <div class="col-sm-2" style="margin-top:5px">
                                            <p><b>Nama Penandatangan</b></p>
                                        </div>
                                        <div class="col-md-8">
                                            <button class="btn btn-primary waves-effect" ng-click="memorandum.openPenandatangan()" type="button" style="margin-left: 5px">Pilih Pegawai</button>
                                            <div ng-show="memorandum.item.pegawaiPenandatangan" class="col-md-12" style="margin-top:5px">
                                                <table>
                                                    <tr>
                                                        <td>Nama</td>
                                                        <td style="padding: 3px">:</td>
                                                        <td>{{memorandum.item.pegawaiPenandatangan.nama}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Jabatan</td>
                                                        <td style="padding: 3px">:</td>
                                                        <td>{{memorandum.item.pegawaiPenandatangan.jabatan}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12" style="margin-bottom:10px">
                                        <div class="col-md-1"></div> 
                                        <div class="col-sm-2" style="margin-top:5px">
                                            <p><b>Waktu Pembuatan</b></p>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="col-md-4" style="margin-left: -15px;">
                                                <input class="form-control" ng-model="memorandum.item.waktuPembuatan" type="text" pattern="[0-9]{1,4}" title="masukkan angka" required></input>
                                            </div>
                                            <div class="col-md-4" style="padding-top: 8px;">
                                                <span><b>Menit</b></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12" style="margin-bottom:10px">
                                        <div class="col-md-1"></div>
                                        <div class="col-sm-2" style="margin-top:5px">
                                            <p><b></b></p>
                                        </div>
                                        <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                        <div class="col-md-8" style="text-align: right">
                                            <div class="col-md-4"></div>
                                            <button class="btn btn-primary waves-effect" type="submit" style="font-size: 20px">Simpan</button>
                                            <button class="btn btn-success waves-effect" type="button" ng-click="openPdf()" style="font-size: 20px">Lihat</button>
                                            <button class="btn btn-danger waves-effect" type="button" ng-click="memorandum.back()" style="font-size: 20px">Kembali</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="bg_load animate-show-hide" ng-show="memorandum.loading"></div>
<div class="wrapper animate-show-hide" ng-show="memorandum.loading">
    <div class="inner" style="padding-top: 180px">
        <span>Sedang</span>
        <span>Mengambil</span>
        <span>Data</span>
        <span>.</span>
        <span>.</span>
        <span>.</span>
    </div>
</div>