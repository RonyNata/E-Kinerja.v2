<ekinerja-navbar></ekinerja-navbar>
<section style="width: 90%;padding-left: 10%;padding-top: 100px;">
    <div class="container-fluid">
        <div class="row clearfix">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="card">
                    <div class="header">
                        <h2>Pembuatan Surat Perintah ({{suratperintah.jenis}})</h2>
                    </div>
                    <div class="body">
                        <form ng-submit="suratperintah.save()" class="form-horizontal">
                        <div class="row clearfix">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div class="col-md-12" style="margin-bottom:10px">
                                    <div class="col-md-1"></div> 
                                    <div class="col-sm-2" style="margin-top:5px">
                                        <p><b>Nomor</b></p>
                                    </div>  
                                    <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                    
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" ng-model="suratperintah.item.urusan" placeholder="nomor urusan" required>
                                    </div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" ng-model="suratperintah.item.unit" placeholder="nomor unit" required>
                                    </div>
                                    <div class="col-md-2">
                                        <input type="number" class="form-control" ng-model="suratperintah.item.tahun" disabled required>
                                    </div>
                                </div>

                                <div class="col-md-12" style="margin-bottom:5px">
                                    <div class="col-md-1"></div>
                                    <div class="col-sm-2" style="margin-top:5px">
                                        <p><b>Nama Penandatangan</b></p>
                                    </div>
                                    <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                    <div class="col-md-8">
                                        <div class="col-md-3" style="padding: 0px">
                                            <button class="btn btn-primary waves-effect" ng-click="suratperintah.openDari()" type="button" style="margin-left: 5px">Pilih Pegawai</button>
                                        </div>
                                        <div ng-show="suratperintah.item.pegawaiPenandatangan" class="col-md-9" style="margin-bottom: 0px">
                                            <table>
                                                <tr>
                                                    <td>Nama</td>
                                                    <td style="padding: 3px">:</td>
                                                    <td>{{suratperintah.item.pegawaiPenandatangan.nama}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Jabatan</td>
                                                    <td style="padding: 3px">:</td>
                                                    <td>{{suratperintah.item.pegawaiPenandatangan.jabatan}}</td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12" style="margin-bottom:10px"> 
                                    <div class="col-md-1"></div> 
                                    <div class="col-sm-2" style="margin-top:5px; padding-top: 5px">
                                        <p><b>Menimbang</b></p>
                                    </div>
                                    <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                    <div class="col-md-6">
                                        <div ng-repeat="data1 in suratperintah.menimbang" style="padding-top: 5px">
                                            <textarea class="form-control" style="height: 100px" ng-model="data1.deskripsimenimbang"></textarea>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary waves-effect" type="button" ng-click="suratperintah.addMenimbang()" style="padding-top: 5px; margin-left: 15px">+ Tambah Menimbang</button>
                                </div>

                                <div class="col-md-12" style="margin-bottom:10px"> 
                                    <div class="col-md-1"></div> 
                                    <div class="col-sm-2" style="padding-top: 5px; margin-top:5px">
                                        <p><b>Dasar</b></p>
                                    </div>
                                    <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                    <div class="col-md-6">
                                        <div ng-repeat="data2 in suratperintah.dasar" style="padding-top: 5px">
                                            <textarea class="form-control" ng-model="data2.deskripsidasar" style="height: 100px"></textarea>  
                                        </div>
                                    </div>
                                    <button class="btn btn-primary waves-effect" type="button" ng-click="suratperintah.addDasar()" style="margin-left: 15px; padding-top: 5px">+ Tambah Dasar</button>
                                </div>

                                <div class="col-md-12" style="margin-bottom:0px">
                                    <div class="col-md-1"></div> 
                                    <div class="col-sm-2" style="margin-top:5px">
                                        <b>Memberi Perintah Kepada :</b>
                                    </div>
                                    <div class="col-md-8" style="margin-bottom: 0px">
                                        <button class="btn btn-primary waves-effect" ng-click="suratperintah.openPegawai()" type="button" style="margin-left: 5px">Pilih Pegawai</button>
                                        <button class="btn btn-primary waves-effect" ng-click="suratperintah.openPilihan()" type="button" style="margin-left: 5px">{{suratperintah.target.length}} Pegawai Telah Dipilih</button>
                                    </div>
                                </div>

                                <div class="col-md-12" style="margin-bottom:10px"> 
                                    <div class="col-md-1"></div> 
                                    <div class="col-sm-2" style="margin-top:5px; padding-top: 5px">
                                        <p><b>Untuk</b></p>
                                    </div>
                                    <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                    <div class="col-md-6">
                                        <div ng-repeat="data3 in suratperintah.untuk" style="padding-top: 5px">
                                            <textarea style="height: 100px" class="form-control" ng-model="data3.deskripsiuntuk"></textarea>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary waves-effect" type="button" ng-click="suratperintah.addUntuk()" style="margin-left: 15px; padding-top: 5px">+ Tambah Maksud</button>
                                </div>

                                <div class="col-md-12" style="margin-bottom:10px"> 
                                    <div class="col-md-1"></div> 
                                    <div class="col-sm-2" style="margin-top:5px">
                                        <p><b>Tempat Pembuatan Surat</b></p>
                                    </div>
                                    <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                    <div class="col-md-6">
                                        <input class="form-control" ng-model="suratperintah.item.tempat" required></input>
                                    </div>
                                </div>

                                <div class="col-md-12" style="margin-bottom:10px"> 
                                    <div class="col-md-1"></div> 
                                    <div class="col-sm-2" style="margin-top:5px">
                                        <p><b>Tanggal Pembuatan Surat</b></p>
                                    </div>
                                    <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                    <div class="col-md-3">
                                        <input class="form-control" type="date" ng-model="suratperintah.item.tanggal1" required>
                                    </div>
                                </div>

                                <div class="col-md-12" style="margin-bottom:10px"> 
                                    <div class="col-md-1"></div> 
                                    <div class="col-sm-2" style="margin-top:5px; padding-top: 5px">
                                        <p><b>Tembusan</b></p>
                                    </div>
                                    <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                    <div class="col-md-6" >
                                        <div ng-repeat="tembusan in suratperintah.tembusanSurat" style="padding-top: 5px">
                                            <form method="get">
                                                <input class="form-control" list="jabatan" name="jabatan" ng-model="tembusan.jabat" placeholder="Pilih Jabatan" ng-change="suratperintah.findJabatan($index)">
                                                <datalist id="jabatan">
                                                        <option ng-repeat="jbtn in suratperintah.list_jabatan"
                                                 value="{{jbtn.kdJabatan}}" ng-selected="selected" >{{jbtn.jabatan}}</option>
                                                </datalist>
                                            </form>
                                            <div ng-show="tembusan.jabatan" style="padding-top: 10px; padding-bottom: 10px">Jabatan : {{tembusan.jabatan.jabatan}}</div>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary waves-effect" type="button" ng-click="suratperintah.addTembusan()" style="margin-left: 15px; padding-top: 5px">+ Tambah Tembusan</button>
                                </div>
                                <div class="col-md-12" style="margin-bottom:10px">
                                    <div class="col-md-1"></div> 
                                    <div class="col-sm-2" style="margin-top:5px">
                                        <p><b>Waktu Pembuatan</b></p>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="col-md-4" style="margin-left: -15px;">
                                            <input class="form-control" ng-model="suratperintah.item.durasiPengerjaan" type="text" pattern="[0-9]{1,4}" title="masukkan angka" required></input>
                                        </div>
                                        <div class="col-md-4" style="padding-top: 8px;">
                                            <span><b>Menit</b></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12" style="margin-bottom:10px">
                                    <div class="col-md-1"></div>
                                    <div class="col-sm-2" style="margin-top:5px">
                                        <p><b></b></p>
                                    </div>
                                    <!-- <div class="col-sm-1" style="margin-top:5px"><b>:</b></div> -->
                                    <div class="col-md-6" style="text-align: right">
                                        <div class="col-md-4"></div>
                                        <button class="btn btn-primary waves-effect" type="submit" style="font-size: 20px">Simpan</button>
                                        <button class="btn btn-success waves-effect" type="button" ng-click="openPdf()" style="font-size: 20px">Lihat</button>
                                        <button class="btn btn-danger waves-effect" type="button" ng-click="suratperintah.back()" style="font-size: 20px">Kembali</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="bg_load animate-show-hide" ng-show="suratperintah.loading"></div>
<div class="wrapper animate-show-hide" ng-show="suratperintah.loading">
    <div class="inner" style="padding-top: 180px">
        <span>Sedang</span>
        <span>Mengambil</span>
        <span>Data</span>
        <span>.</span>
        <span>.</span>
        <span>.</span>
    </div>
</div>